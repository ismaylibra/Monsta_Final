@model HomeViewModel

@{
    var sliders = Model.Sliders;
    var banners = Model.Banners;
    var blogs = Model.Blogs;
    var products = Model.Products;
}


<!--slider area start-->
<div class="slider_area slider_black owl-carousel">
    @foreach (var slider in sliders)
    {
        <div class="single_slider" data-bgimg="assets/img/slider/@slider.ImageUrl">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-12">
                        <div class="slider_content">
                            <p>@slider.DiscountContent</p>
                            <h1>@slider.Title</h1>
                            <span>@slider.Subtitle </span>
                            <p class="slider_price">starting at <span>$@slider.StartPrice</span></p>
                            <a class="button" href="shop.html">shopping now</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    }



</div>
<!--slider area end-->
<!--banner area start-->
<section class="banner_section banner_black">
    <div class="container">
        <div class="row ">
            @foreach (var banner in banners.Take(3))
            {
                <div class="col-lg-4 col-md-6">
                    <div class="single_banner">
                        <div class="banner_thumb">
                            <a href="shop.html"><img src="~/assets/img/bg/@banner.ImageUrl" alt=""></a>
                            <div class="banner_content">
                                <p>@banner.Subtitle</p>
                                <h2>@banner.Title</h2>
                                <span>@banner.SellingContent</span>
                            </div>
                        </div>
                    </div>

                </div>
            }



        </div>

    </div>
</section>
<!--banner area end-->
<!--product section area start-->
 <div class="shop_area">
        <div class="container">
            <div class="row">
                
                <div class="col-lg-12 col-md-12">
                  <div class="product_tab_button">
                                <ul class="nav" role="tablist">
                                    <li>
                                        <a class="active" data-bs-toggle="tab" href="#featured" role="tab" aria-controls="featured" aria-selected="true">Products</a>
                                    </li>
                                   

                                </ul>
                            </div>
                     <div class="tab-content">
                        <div class="tab-pane grid_view fade show active" id="large" role="tabpanel">
                            <div class="row">
                             @await Component.InvokeAsync("HomeProduct")
                               
                               
                            </div>
                        </div>
                        

                    </div>
                    <!--shop tab product end-->
                   
                    <!--shop wrapper end-->
                </div>
               
            </div>    
        </div>
    </div>
<!--product section area end-->
<!--banner fullwidth start-->
<section class="banner_fullwidth black_fullwidth">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-12">
                <div class="banner_text">
                    <p>Sale Off 20% All Products</p>
                    <h2>New Trending Collection</h2>
                    <span>We Believe That Good Design is Always in Season</span>
                    <a asp-controller="product" asp-action="index">shopping Now</a>
                    
                </div>

            </div>
        </div>
    </div>
</section>
<!--banner area end-->
<!--product section area start-->
        <section class="product_section p_section1 product_black_section bottom">
            <div class="container">
                <div class="row">  
                    <div class="col-12">
                        <div class="section_title">
                            <h2>Bestselling Products</h2>
                        </div> 
                    </div> 
                    <div class="col-12">
                        <div class="product_area"> 
                            <div class="product_container bottom">
                                <div class="custom-row product_row1">
                                    @foreach (var productt in products)
                                    {
                                <div class="custom-col-5">
                                    <div class="single_product">
                                        <div class="product_thumb">
                                              @for (var i = 1; i < 2; i++)
                {
                    <a class="primary_img" asp-controller="product" asp-action="details" asp-route-id="@productt.Id"><img src="~/assets/img/product/@productt.ProductImages[i].Name" alt=""></a>
                    <a class="secondary_img" asp-controller="product" asp-action="details" asp-route-id="@productt.Id"><img src="~/assets/img/product/@productt.ProductImages[i+1].Name" alt=""></a>
                }
                                            
                                        </div>
                                        <div class="product_content">
                                            <div class="tag_cate">
                                               @foreach(var cat in productt.CategoryProducts) 
                                               {
                                                     <a href="#">@cat.Category.Name</a>
                                               }
                                              
                                                
                                            </div>
                                            <h3><a href="product-details.html">@productt.Brand.Name.ToUpper()</a></h3>
                                            <div class="price_box">
                                                @if(productt.DiscountPrice >0)
                                                {
                                                <span class="old_price">$@productt.Price</span>
                                                <span class="current_price">$@(productt.Price-productt.DiscountPrice)</span>

                                                }
                                                else{
                                                    <span class="current_price">$@productt.Price</span>
                                                }
                                            </div>
                                            <div class="product_hover">
                                                <div class="product_ratings">
                                                    <ul>
                                                        <li><a href="#"><i class="ion-ios-star-outline"></i></a></li>
                                                        <li><a href="#"><i class="ion-ios-star-outline"></i></a></li>
                                                        <li><a href="#"><i class="ion-ios-star-outline"></i></a></li>
                                                        <li><a href="#"><i class="ion-ios-star-outline"></i></a></li>
                                                        <li><a href="#"><i class="ion-ios-star-outline"></i></a></li>
                                                    </ul>
                                                </div>
                                                <div class="product_desc">
                                                    @{
                            string description = (productt.MainDescription.Length < 83) ? productt.MainDescription : productt.MainDescription.Substring(0, 83) + "...";
                        }
                                                    <p>@description</p>
                                                </div>
                                                <div class="action_links">
                                                    <ul>
                                                        <li><a href="wishlist.html" data-placement="top" title="Add to Wishlist" data-bs-toggle="tooltip"><span class="icon icon-Heart"></span></a></li>
                                                        <li class="add_to_cart"><a asp-controller="basket" asp-action="AddToBasket" asp-route-id="@productt.Id" title="add to cart">add to cart</a></li>
                                                        <li><a href="compare.html" title="compare"><i class="ion-ios-settings-strong"></i></a></li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            }
                                    
                                   
                                </div>
                            </div> 
                        </div>
                    </div>
                </div>    
            </div>
        </section>
<!--product section area end-->
<!--blog section area start-->
<section class="blog_section blog_black">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="section_title">
                    <h2>Monsta News</h2>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="blog_wrapper blog_column3 owl-carousel">
                @foreach (var blog in blogs)
                {
                    <div class="col-lg-4">
                        <div class="single_blog">
                            <div class="blog_thumb">
                                <a asp-controller="blog" asp-action="details" asp-route-id="@blog.Id"><img src="~/assets/img/blog/@blog.ImageUrl" alt=""></a>
                            </div>
                            <div class="blog_content">
                                <h3><a asp-controller="blog" asp-action="details" asp-route-id="@blog.Id">@blog.Title</a></h3>
                                <div class="author_name">
                                    <p>
                                        <span>by</span>
                                        <span class="themes">@blog.Author</span>
                                        / @blog.PublishTime
                                    </p>

                                </div>

                                <div class="post_desc">
                                    @{
                                        string description = (blog.SpecifiedContent.Length < 140) ? blog.SpecifiedContent : blog.SpecifiedContent.Substring(0, 140) + "...";
                                    }
                                    <p>@description</p>
                                </div>
                                <div class="read_more">
                                    <a asp-controller="blog" asp-action="details" asp-route-id="@blog.Id">Continue reading</a>
                                </div>
                            </div>
                        </div>
                    </div>
                }


            </div>
        </div>
    </div>
</section>
<!--blog section area end-->
<!--indtagram area start-->
<div class="instagram_area">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="instagram_wrapper_new">
                    <div id="instagramFeed"></div>
                    <div class="instagram_btn">
                        <a href="#"><i class="fa fa-instagram"></i> Follow on Instagram</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!--indtagram area end-->
<!--Newsletter area start-->
<div class="newsletter_area newsletter_black">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="newsletter_content">
                    <h2>Subscribe for Newsletter</h2>
                    <p>Get E-mail updates about our latest shop and special offers.</p>
                    <div class="subscribe_form">
                        <form id="mc-form" class="mc-form footer-newsletter">
                            <input id="mc-email" type="email" autocomplete="off" placeholder="Email address..." />
                            <button id="mc-submit">Subscribe</button>
                        </form>
                        <!-- mailchimp-alerts Start -->
                        <div class="mailchimp-alerts text-centre">
                            <div class="mailchimp-submitting"></div><!-- mailchimp-submitting end -->
                            <div class="mailchimp-success"></div><!-- mailchimp-success end -->
                            <div class="mailchimp-error"></div><!-- mailchimp-error end -->
                        </div><!-- mailchimp-alerts end -->
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!--Newsletter area start-->
<!--banner area start-->
<section class="banner_section banner_section_five">
    <div class="container-fluid p-0">
        <div class="row no-gutters">
            <div class="col-lg-6 col-md-12">
                <div class="single_banner one">
                    <div class="banner_text">
                        <p>New Arrivals 2018</p>
                        <h2>Luxury Perfume 2018</h2>
                        <span>Men’s and Woman’s Accessories</span>
                        <a href="shop.html">Discover Now</a>
                    </div>
                </div>

            </div>
            <div class="col-lg-6 col-md-12">
                <div class="single_banner two">
                    <div class="banner_text">
                        <p>Trending Products 2018</p>
                        <h2>Maurice Lacroix Watch</h2>
                        <span>Only from $162.00 – Sale 20% Off</span>
                        <a href="shop.html">Discover Now</a>
                    </div>
                </div>

            </div>
        </div>
    </div>
</section>
<!--banner area end-->

<div class="modal fade" id="modal_box" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
            <div class="modal_body">
                <div class="container">
                    <div class="row">
                        @foreach(var product in products)
                        {
                            <div class="col-lg-5 col-md-5 col-sm-12">
                                <div class="modal_tab">
                                    <div class="tab-content product-details-large">
                                        @foreach(var image in product.ProductImages.Take(1))
                                        {
                                              <div class="tab-pane fade show active" id="tab1" role="tabpanel">

                                            <div class="modal_tab_img">
                                                <a href="#"><img src="~/assets/img/product/@image.Name" alt=""></a>
                                            </div>
                                        </div>
                                        }
                                      
                                       
                                    </div>
                                    <div class="modal_tab_button">
                                        <ul class="nav product_navactive owl-carousel" role="tablist">
                                            @foreach(var imageProduct in product.ProductImages)
                                            {
                                            <li>
                                                <a class="nav-link active" data-bs-toggle="tab" href="#tab1" role="tab" aria-controls="tab1" aria-selected="false"><img src="~/assets/img/product/@imageProduct.Name" alt=""></a>
                                            </li>
                                            }
                                           
                                         

                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-7 col-md-7 col-sm-12">
                                <div class="modal_right">
                                    <div class="modal_title mb-10">
                                        <h2>Donec eu furniture</h2>
                                    </div>
                                    <div class="modal_price mb-10">
                                        <span class="new_price">$@product.Price</span>
                                    </div>
                                    <div class="see_all">
                                        <a asp-controller="product" asp-action="details" asp-route-id="product.Id">See all features</a>
                                    </div>
                                    <div class="modal_add-to-cart mb-15">
                                        <form action="#">
                                            <input min="0" max="100" step="2" value="1" type="number">
                                            <button type="submit">add to cart</button>
                                        </form>
                                    </div>
                                    <div class="modal_description mb-15">
                                        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,</p>
                                    </div>
                                    <div class="modal_social">
                                        <h2>Share this product</h2>
                                        <ul>
                                            <li><a href="#"><i class="fa fa-facebook"></i></a></li>
                                            <li><a href="#"><i class="fa fa-twitter"></i></a></li>
                                            <li><a href="#"><i class="fa fa-pinterest"></i></a></li>
                                            <li><a href="#"><i class="fa fa-google-plus"></i></a></li>
                                            <li><a href="#"><i class="fa fa-linkedin"></i></a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        }
                      
                    </div>
                </div>
            </div>
        </div>
    </div>
</div> 